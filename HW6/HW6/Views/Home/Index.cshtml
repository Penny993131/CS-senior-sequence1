@model IEnumerable<HW6.Models.StockItem>
@{
    ViewBag.Title = "Index";
}
@* This index.cshtml view is the search function of the controller, it will take the string and passes back to
    the homecontroller*@

<div class="row page-header">
    <img src="https://blog.hubspot.com/hubfs/content_marketing_banner.jpg" height="300" width="1000" />
</div>

<h2>StockItem Search</h2>

@using (Html.BeginForm("Index", "Home", FormMethod.Post))//Using Post request to do the search
{

    @Html.TextBox("search", null, new { @class = "form-control", @id = "stockitem-search", @placeholder = "Please Enter StockItem Name", type = "string", required = "required" })
    // I will pass this "search" parameter in the  ActionResult, ActionResult needs a paramter that will take in the thing we're searching for.
    //Make sure the "search" are exactly the same as the parameter in the ActionResult parenthesis.

    <button class="btn btn-default" type="submit">Display</button>

}

<div class="col-md-4">
    <div>
        @if (ViewBag.Success == true)
        {
            <table class="table table-bordered table-striped">
                <thead>
                    <tr>StockItem Name</tr>
                </thead>
                <tbody>
                    @if (Model.Count() == 0)
                    {
                        <tr>
                            <td>StockItem Not Found</td>
                        </tr>
                    }
                    else
                    {
                        foreach (var stockitem in Model)
                        {
                            <tr>
                                <td>@Html.ActionLink(stockitem.StockItemName, "Details", "StockItems", new { id = stockitem.StockItemID }, null)</td>
                                @*using Details view page and StockItemscontroller to diplay the result*@
                            </tr>
                        }
                    }
                </tbody>
            </table>
        }

    </div>

</div>











